(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Hr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Hr);let it=!1,Vr=!1;function Wr(){it=!0}Wr();const zr=1,Yr=2,Jn=4,Gr=8,Jr=16,Kr=2,Xr=4,Qr=8,Zr=1,es=2,q=Symbol(),Kn="http://www.w3.org/1999/xhtml",nn=!1;var zt=Array.isArray,ts=Array.prototype.indexOf,Qe=Array.prototype.includes,Yt=Array.from,Xn=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,Qn=Object.getOwnPropertyDescriptors,ns=Object.prototype,rs=Array.prototype,gn=Object.getPrototypeOf,Nn=Object.isExtensible;const Ee=()=>{};function ss(e){return e()}function Bt(e){for(var t=0;t<e.length;t++)e[t]()}function Zn(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const j=2,gt=4,wt=8,er=1<<24,Ae=16,he=32,Ve=64,rn=128,re=512,U=1024,H=2048,ve=4096,te=8192,Se=16384,yt=32768,Ze=65536,Pn=1<<17,tr=1<<18,lt=1<<19,nr=1<<20,we=1<<25,je=65536,sn=1<<21,bn=1<<22,$e=1<<23,xe=Symbol("$state"),is=Symbol("legacy props"),Ie=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function mn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ls(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function as(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function os(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function fs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function us(e){throw new Error("https://svelte.dev/e/effect_orphan")}function cs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ds(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function vs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function hs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _s(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ps(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function gs(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function bs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function rr(e){return e===this.v}function sr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ir(e){return!sr(e,this.v)}let C=null;function et(e){C=e}function Et(e,t=!1,n){C={p:C,i:!1,c:null,e:null,s:e,x:null,l:it&&!t?{s:null,u:null,$:[]}:null}}function St(e){var t=C,n=t.e;if(n!==null){t.e=null;for(var r of n)Sr(r)}return t.i=!0,C=t.p,{}}function xt(){return!it||C!==null&&C.l===null}let Le=[];function lr(){var e=Le;Le=[],Bt(e)}function Te(e){if(Le.length===0&&!ct){var t=Le;queueMicrotask(()=>{t===Le&&lr()})}Le.push(e)}function ms(){for(;Le.length>0;)lr()}function ar(e){var t=x;if(t===null)return E.f|=$e,e;if((t.f&yt)===0&&(t.f&gt)===0)throw e;tt(e,t)}function tt(e,t){for(;t!==null;){if((t.f&rn)!==0){if((t.f&yt)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const ws=-7169;function I(e,t){e.f=e.f&ws|t}function wn(e){(e.f&re)!==0||e.deps===null?I(e,U):I(e,ve)}function or(e){if(e!==null)for(const t of e)(t.f&j)===0||(t.f&je)===0||(t.f^=je,or(t.deps))}function fr(e,t,n){(e.f&H)!==0?t.add(e):(e.f&ve)!==0&&n.add(e),or(e.deps),I(e,U)}const Rt=new Set;let S=null,Ut=null,ue=null,G=[],Gt=null,ln=!1,ct=!1;class Oe{committed=!1;current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#s=0;#i=null;#l=new Set;#n=new Set;#r=new Map;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#s>0}skip_effect(t){this.#r.has(t)||this.#r.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#r.get(t);if(n){this.#r.delete(t);for(var r of n.d)I(r,H),ce(r);for(r of n.m)I(r,ve),ce(r)}}process(t){G=[],this.apply();var n=[],r=[];for(const s of t)this.#u(s,n,r);if(this.is_deferred()){this.#f(r),this.#f(n);for(const[s,i]of this.#r)vr(s,i)}else{for(const s of this.#t)s();this.#t.clear(),this.#e===0&&this.#d(),Ut=this,S=null,Dn(r),Dn(n),Ut=null,this.#i?.resolve()}ue=null}#u(t,n,r){t.f^=U;for(var s=t.first,i=null;s!==null;){var l=s.f,a=(l&(he|Ve))!==0,o=a&&(l&U)!==0,f=o||(l&te)!==0||this.#r.has(s);if(!f&&s.fn!==null){a?s.f^=U:i!==null&&(l&(gt|wt|er))!==0?i.b.defer_effect(s):(l&gt)!==0?n.push(s):kt(s)&&((l&Ae)!==0&&this.#n.add(s),st(s));var u=s.first;if(u!==null){s=u;continue}}for(;s!==null;){s===i&&(i=null);var v=s.next;if(v!==null){s=v;break}s=s.parent}}}#f(t){for(var n=0;n<t.length;n+=1)fr(t[n],this.#l,this.#n)}capture(t,n){n!==q&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&$e)===0&&(this.current.set(t,t.v),ue?.set(t,t.v))}activate(){S=this,this.apply()}deactivate(){S===this&&(S=null,ue=null)}flush(){if(this.activate(),G.length>0){if(ur(),S!==null&&S!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#a)t(this);this.#a.clear()}#d(){if(Rt.size>1){this.previous.clear();var t=ue,n=!0;for(const s of Rt){if(s===this){n=!1;continue}const i=[];for(const[a,o]of this.current){if(s.current.has(a))if(n&&o!==s.current.get(a))s.current.set(a,o);else continue;i.push(a)}if(i.length===0)continue;const l=[...s.current.keys()].filter(a=>!this.current.has(a));if(l.length>0){var r=G;G=[];const a=new Set,o=new Map;for(const f of i)cr(f,l,a,o);if(G.length>0){S=s,s.apply();for(const f of G)s.#u(f,[],[]);s.deactivate()}G=r}}S=null,ue=t}this.committed=!0,Rt.delete(this)}increment(t){this.#e+=1,t&&(this.#s+=1)}decrement(t){this.#e-=1,t&&(this.#s-=1),!this.#o&&(this.#o=!0,Te(()=>{this.#o=!1,this.is_deferred()?G.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#l)this.#n.delete(t),I(t,H),ce(t);for(const t of this.#n)I(t,ve),ce(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#a.add(t)}settled(){return(this.#i??=Zn()).promise}static ensure(){if(S===null){const t=S=new Oe;Rt.add(S),ct||Te(()=>{S===t&&t.flush()})}return S}apply(){}}function ys(e){var t=ct;ct=!0;try{for(var n;;){if(ms(),G.length===0&&(S?.flush(),G.length===0))return Gt=null,n;ur()}}finally{ct=t}}function ur(){ln=!0;var e=null;try{for(var t=0;G.length>0;){var n=Oe.ensure();if(t++>1e3){var r,s;Es()}n.process(G),Ne.clear()}}finally{G=[],ln=!1,Gt=null}}function Es(){try{cs()}catch(e){tt(e,Gt)}}let me=null;function Dn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Se|te))===0&&kt(r)&&(me=new Set,st(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&kr(r),me?.size>0)){Ne.clear();for(const s of me){if((s.f&(Se|te))!==0)continue;const i=[s];let l=s.parent;for(;l!==null;)me.has(l)&&(me.delete(l),i.push(l)),l=l.parent;for(let a=i.length-1;a>=0;a--){const o=i[a];(o.f&(Se|te))===0&&st(o)}}me.clear()}}me=null}}function cr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;(i&j)!==0?cr(s,t,n,r):(i&(bn|Ae))!==0&&(i&H)===0&&dr(s,t,r)&&(I(s,H),ce(s))}}function dr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(Qe.call(t,s))return!0;if((s.f&j)!==0&&dr(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function ce(e){for(var t=Gt=e;t.parent!==null;){t=t.parent;var n=t.f;if(ln&&t===x&&(n&Ae)!==0&&(n&tr)===0)return;if((n&(Ve|he))!==0){if((n&U)===0)return;t.f^=U}}G.push(t)}function vr(e,t){if(!((e.f&he)!==0&&(e.f&U)!==0)){(e.f&H)!==0?t.d.push(e):(e.f&ve)!==0&&t.m.push(e),I(e,U);for(var n=e.first;n!==null;)vr(n,t),n=n.next}}function Ss(e){let t=0,n=He(0),r;return()=>{Tn()&&(w(n),Xt(()=>(t===0&&(r=A(()=>e(()=>dt(n)))),t+=1,()=>{Te(()=>{t-=1,t===0&&(r?.(),r=void 0,dt(n))})})))}}var xs=Ze|lt;function Ts(e,t,n){new ks(e,t,n)}class ks{parent;is_pending=!1;#t;#a=null;#e;#s;#i;#l=null;#n=null;#r=null;#o=null;#u=0;#f=0;#d=!1;#v=new Set;#h=new Set;#c=null;#b=Ss(()=>(this.#c=He(this.#u),()=>{this.#c=null}));constructor(t,n,r){this.#t=t,this.#e=n,this.#s=s=>{var i=x;i.b=this,i.f|=rn,r(s)},this.parent=x.b,this.#i=kn(()=>{this.#p()},xs)}#m(){try{this.#l=fe(()=>this.#s(this.#t))}catch(t){this.error(t)}}#w(){const t=this.#e.pending;t&&(this.is_pending=!0,this.#n=fe(()=>t(this.#t)),Te(()=>{var n=this.#o=document.createDocumentFragment(),r=ke();n.append(r),this.#l=this.#_(()=>(Oe.ensure(),fe(()=>this.#s(r)))),this.#f===0&&(this.#t.before(n),this.#o=null,Ue(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#p(){try{if(this.is_pending=this.has_pending_snippet(),this.#f=0,this.#u=0,this.#l=fe(()=>{this.#s(this.#t)}),this.#f>0){var t=this.#o=document.createDocumentFragment();Mr(this.#l,t);const n=this.#e.pending;this.#n=fe(()=>n(this.#t))}else this.is_pending=!1}catch(n){this.error(n)}}defer_effect(t){fr(t,this.#v,this.#h)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#_(t){var n=x,r=E,s=C;pe(this.#i),ie(this.#i),et(this.#i.ctx);try{return t()}catch(i){return ar(i),null}finally{pe(n),ie(r),et(s)}}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}if(this.#f+=t,this.#f===0){this.is_pending=!1;for(const n of this.#v)I(n,H),ce(n);for(const n of this.#h)I(n,ve),ce(n);this.#v.clear(),this.#h.clear(),this.#n&&Ue(this.#n,()=>{this.#n=null}),this.#o&&(this.#t.before(this.#o),this.#o=null)}}update_pending_count(t){this.#g(t),this.#u+=t,!(!this.#c||this.#d)&&(this.#d=!0,Te(()=>{this.#d=!1,this.#c&&rt(this.#c,this.#u)}))}get_effect_pending(){return this.#b(),w(this.#c)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(!n&&!r)throw t;this.#l&&(K(this.#l),this.#l=null),this.#n&&(K(this.#n),this.#n=null),this.#r&&(K(this.#r),this.#r=null);var s=!1,i=!1;const l=()=>{if(s){bs();return}s=!0,i&&ps(),this.#r!==null&&Ue(this.#r,()=>{this.#r=null}),this.#_(()=>{Oe.ensure(),this.#p()})};Te(()=>{try{i=!0,n?.(t,l),i=!1}catch(a){tt(a,this.#i&&this.#i.parent)}r&&(this.#r=this.#_(()=>{Oe.ensure();try{return fe(()=>{var a=x;a.b=this,a.f|=rn,r(this.#t,()=>t,()=>l)})}catch(a){return tt(a,this.#i.parent),null}}))})}}function As(e,t,n,r){const s=xt()?yn:En;var i=e.filter(c=>!c.settled);if(n.length===0&&i.length===0){r(t.map(s));return}var l=S,a=x,o=Cs(),f=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(c=>c.promise)):null;function u(c){o();try{r(c)}catch(h){(a.f&Se)===0&&tt(h,a)}l?.deactivate(),an()}if(n.length===0){f.then(()=>u(t.map(s)));return}function v(){o(),Promise.all(n.map(c=>Ms(c))).then(c=>u([...t.map(s),...c])).catch(c=>tt(c,a))}f?f.then(v):v()}function Cs(){var e=x,t=E,n=C,r=S;return function(i=!0){pe(e),ie(t),et(n),i&&r?.activate()}}function an(){pe(null),ie(null),et(null)}function yn(e){var t=j|H,n=E!==null&&(E.f&j)!==0?E:null;return x!==null&&(x.f|=lt),{ctx:C,deps:null,effects:null,equals:rr,f:t,fn:e,reactions:null,rv:0,v:q,wv:0,parent:n??x,ac:null}}function Ms(e,t,n){let r=x;r===null&&ls();var s=r.b,i=void 0,l=He(q),a=!E,o=new Map;return Hs(()=>{var f=Zn();i=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{u===S&&u.committed&&u.deactivate(),an()})}catch(h){f.reject(h),an()}var u=S;if(a){var v=s.is_rendered();s.update_pending_count(1),u.increment(v),o.get(u)?.reject(Ie),o.delete(u),o.set(u,f)}const c=(h,_=void 0)=>{if(u.activate(),_)_!==Ie&&(l.f|=$e,rt(l,_));else{(l.f&$e)!==0&&(l.f^=$e),rt(l,h);for(const[p,d]of o){if(o.delete(p),p===u)break;d.reject(Ie)}}a&&(s.update_pending_count(-1),u.decrement(v))};f.promise.then(c,h=>c(null,h||"unknown"))}),Kt(()=>{for(const f of o.values())f.reject(Ie)}),new Promise(f=>{function u(v){function c(){v===i?f(l):u(i)}v.then(c,c)}u(i)})}function En(e){const t=yn(e);return t.equals=ir,t}function Rs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)K(t[n])}}function $s(e){for(var t=e.parent;t!==null;){if((t.f&j)===0)return(t.f&Se)===0?t:null;t=t.parent}return null}function Sn(e){var t,n=x;pe($s(e));try{e.f&=~je,Rs(e),t=Nr(e)}finally{pe(n)}return t}function hr(e){var t=Sn(e);if(!e.equals(t)&&(e.wv=$r(),(!S?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){I(e,U);return}Pe||(ue!==null?(Tn()||S?.is_fork)&&ue.set(e,t):wn(e))}function Os(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(Ie),t.teardown=Ee,t.ac=null,bt(t,0),An(t))}function _r(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&st(t)}let on=new Set;const Ne=new Map;let pr=!1;function He(e,t){var n={f:0,v:e,reactions:null,equals:rr,rv:0,wv:0};return n}function Ce(e,t){const n=He(e);return zs(n),n}function nt(e,t=!1,n=!0){const r=He(e);return t||(r.equals=ir),it&&n&&C!==null&&C.l!==null&&(C.l.s??=[]).push(r),r}function Ns(e,t){return z(e,A(()=>w(e))),t}function z(e,t,n=!1){E!==null&&(!de||(E.f&Pn)!==0)&&xt()&&(E.f&(j|Ae|bn|Pn))!==0&&(se===null||!Qe.call(se,e))&&_s();let r=n?Je(t):t;return rt(e,r)}function rt(e,t){if(!e.equals(t)){var n=e.v;Pe?Ne.set(e,t):Ne.set(e,n),e.v=t;var r=Oe.ensure();if(r.capture(e,n),(e.f&j)!==0){const s=e;(e.f&H)!==0&&Sn(s),wn(s)}e.wv=$r(),gr(e,H),xt()&&x!==null&&(x.f&U)!==0&&(x.f&(he|Ve))===0&&(ne===null?Ys([e]):ne.push(e)),!r.is_fork&&on.size>0&&!pr&&Ps()}return t}function Ps(){pr=!1;for(const e of on)(e.f&U)!==0&&I(e,ve),kt(e)&&st(e);on.clear()}function dt(e){z(e,e.v+1)}function gr(e,t){var n=e.reactions;if(n!==null)for(var r=xt(),s=n.length,i=0;i<s;i++){var l=n[i],a=l.f;if(!(!r&&l===x)){var o=(a&H)===0;if(o&&I(l,t),(a&j)!==0){var f=l;ue?.delete(f),(a&je)===0&&(a&re&&(l.f|=je),gr(f,ve))}else o&&((a&Ae)!==0&&me!==null&&me.add(l),ce(l))}}}function Je(e){if(typeof e!="object"||e===null||xe in e)return e;const t=gn(e);if(t!==ns&&t!==rs)return e;var n=new Map,r=zt(e),s=Ce(0),i=qe,l=a=>{if(qe===i)return a();var o=E,f=qe;ie(null),Un(i);var u=a();return ie(o),Un(f),u};return r&&n.set("length",Ce(e.length)),new Proxy(e,{defineProperty(a,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&vs();var u=n.get(o);return u===void 0?l(()=>{var v=Ce(f.value);return n.set(o,v),v}):z(u,f.value,!0),!0},deleteProperty(a,o){var f=n.get(o);if(f===void 0){if(o in a){const u=l(()=>Ce(q));n.set(o,u),dt(s)}}else z(f,q),dt(s);return!0},get(a,o,f){if(o===xe)return e;var u=n.get(o),v=o in a;if(u===void 0&&(!v||Ke(a,o)?.writable)&&(u=l(()=>{var h=Je(v?a[o]:q),_=Ce(h);return _}),n.set(o,u)),u!==void 0){var c=w(u);return c===q?void 0:c}return Reflect.get(a,o,f)},getOwnPropertyDescriptor(a,o){var f=Reflect.getOwnPropertyDescriptor(a,o);if(f&&"value"in f){var u=n.get(o);u&&(f.value=w(u))}else if(f===void 0){var v=n.get(o),c=v?.v;if(v!==void 0&&c!==q)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(a,o){if(o===xe)return!0;var f=n.get(o),u=f!==void 0&&f.v!==q||Reflect.has(a,o);if(f!==void 0||x!==null&&(!u||Ke(a,o)?.writable)){f===void 0&&(f=l(()=>{var c=u?Je(a[o]):q,h=Ce(c);return h}),n.set(o,f));var v=w(f);if(v===q)return!1}return u},set(a,o,f,u){var v=n.get(o),c=o in a;if(r&&o==="length")for(var h=f;h<v.v;h+=1){var _=n.get(h+"");_!==void 0?z(_,q):h in a&&(_=l(()=>Ce(q)),n.set(h+"",_))}if(v===void 0)(!c||Ke(a,o)?.writable)&&(v=l(()=>Ce(void 0)),z(v,Je(f)),n.set(o,v));else{c=v.v!==q;var p=l(()=>Je(f));z(v,p)}var d=Reflect.getOwnPropertyDescriptor(a,o);if(d?.set&&d.set.call(u,f),!c){if(r&&typeof o=="string"){var m=n.get("length"),g=Number(o);Number.isInteger(g)&&g>=m.v&&z(m,g+1)}dt(s)}return!0},ownKeys(a){w(s);var o=Reflect.ownKeys(a).filter(v=>{var c=n.get(v);return c===void 0||c.v!==q});for(var[f,u]of n)u.v!==q&&!(f in a)&&o.push(f);return o},setPrototypeOf(){hs()}})}function Fn(e){try{if(e!==null&&typeof e=="object"&&xe in e)return e[xe]}catch{}return e}function Ds(e,t){return Object.is(Fn(e),Fn(t))}var In,br,mr,wr;function Fs(){if(In===void 0){In=window,br=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;mr=Ke(t,"firstChild").get,wr=Ke(t,"nextSibling").get,Nn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Nn(n)&&(n.__t=void 0)}}function ke(e=""){return document.createTextNode(e)}function qt(e){return mr.call(e)}function Tt(e){return wr.call(e)}function N(e,t){return qt(e)}function fn(e,t=!1){{var n=qt(e);return n instanceof Comment&&n.data===""?Tt(n):n}}function F(e,t=1,n=!1){let r=e;for(;t--;)r=Tt(r);return r}function Is(e){e.textContent=""}function yr(){return!1}function Ls(e,t,n){return document.createElementNS(Kn,e,void 0)}let Ln=!1;function Bs(){Ln||(Ln=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Jt(e){var t=E,n=x;ie(null),pe(null);try{return e()}finally{ie(t),pe(n)}}function xn(e,t,n,r=n){e.addEventListener(t,()=>Jt(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Bs()}function Er(e){x===null&&(E===null&&us(),fs()),Pe&&os()}function Us(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ge(e,t,n){var r=x;r!==null&&(r.f&te)!==0&&(e|=te);var s={ctx:C,deps:null,nodes:null,f:e|H|re,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{st(s)}catch(a){throw K(s),a}else t!==null&&ce(s);var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&lt)===0&&(i=i.first,(e&Ae)!==0&&(e&Ze)!==0&&i!==null&&(i.f|=Ze)),i!==null&&(i.parent=r,r!==null&&Us(i,r),E!==null&&(E.f&j)!==0&&(e&Ve)===0)){var l=E;(l.effects??=[]).push(i)}return s}function Tn(){return E!==null&&!de}function Kt(e){const t=ge(wt,null,!1);return I(t,U),t.teardown=e,t}function un(e){Er();var t=x.f,n=!E&&(t&he)!==0&&(t&yt)===0;if(n){var r=C;(r.e??=[]).push(e)}else return Sr(e)}function Sr(e){return ge(gt|nr,e,!1)}function qs(e){return Er(),ge(wt|nr,e,!0)}function js(e){Oe.ensure();const t=ge(Ve|lt,e,!0);return(n={})=>new Promise(r=>{n.outro?Ue(t,()=>{K(t),r(void 0)}):(K(t),r(void 0))})}function xr(e){return ge(gt,e,!1)}function Hs(e){return ge(bn|lt,e,!0)}function Xt(e,t=0){return ge(wt|t,e,!0)}function oe(e,t=[],n=[],r=[]){As(r,t,n,s=>{ge(wt,()=>e(...s.map(w)),!0)})}function kn(e,t=0){var n=ge(Ae|t,e,!0);return n}function fe(e){return ge(he|lt,e,!0)}function Tr(e){var t=e.teardown;if(t!==null){const n=Pe,r=E;Bn(!0),ie(null);try{t.call(null)}finally{Bn(n),ie(r)}}}function An(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&Jt(()=>{s.abort(Ie)});var r=n.next;(n.f&Ve)!==0?n.parent=null:K(n,t),n=r}}function Vs(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&he)===0&&K(t),t=n}}function K(e,t=!0){var n=!1;(t||(e.f&tr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ws(e.nodes.start,e.nodes.end),n=!0),An(e,t&&!n),bt(e,0),I(e,Se);var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)i.stop();Tr(e);var s=e.parent;s!==null&&s.first!==null&&kr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ws(e,t){for(;e!==null;){var n=e===t?null:Tt(e);e.remove(),e=n}}function kr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ue(e,t,n=!0){var r=[];Ar(e,r,!0);var s=()=>{n&&K(e),t&&t()},i=r.length;if(i>0){var l=()=>--i||s();for(var a of r)a.out(l)}else s()}function Ar(e,t,n){if((e.f&te)===0){e.f^=te;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var s=e.first;s!==null;){var i=s.next,l=(s.f&Ze)!==0||(s.f&he)!==0&&(e.f&Ae)!==0;Ar(s,t,l?n:!1),s=i}}}function Cn(e){Cr(e,!0)}function Cr(e,t){if((e.f&te)!==0){e.f^=te,(e.f&U)===0&&(I(e,H),ce(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Ze)!==0||(n.f&he)!==0;Cr(n,s?t:!1),n=r}var i=e.nodes&&e.nodes.t;if(i!==null)for(const l of i)(l.is_global||t)&&l.in()}}function Mr(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var s=n===r?null:Tt(n);t.append(n),n=s}}let Dt=!1,Pe=!1;function Bn(e){Pe=e}let E=null,de=!1;function ie(e){E=e}let x=null;function pe(e){x=e}let se=null;function zs(e){E!==null&&(se===null?se=[e]:se.push(e))}let J=null,Q=0,ne=null;function Ys(e){ne=e}let Rr=1,Be=0,qe=Be;function Un(e){qe=e}function $r(){return++Rr}function kt(e){var t=e.f;if((t&H)!==0)return!0;if(t&j&&(e.f&=~je),(t&ve)!==0){for(var n=e.deps,r=n.length,s=0;s<r;s++){var i=n[s];if(kt(i)&&hr(i),i.wv>e.wv)return!0}(t&re)!==0&&ue===null&&I(e,U)}return!1}function Or(e,t,n=!0){var r=e.reactions;if(r!==null&&!(se!==null&&Qe.call(se,e)))for(var s=0;s<r.length;s++){var i=r[s];(i.f&j)!==0?Or(i,t,!1):t===i&&(n?I(i,H):(i.f&U)!==0&&I(i,ve),ce(i))}}function Nr(e){var t=J,n=Q,r=ne,s=E,i=se,l=C,a=de,o=qe,f=e.f;J=null,Q=0,ne=null,E=(f&(he|Ve))===0?e:null,se=null,et(e.ctx),de=!1,qe=++Be,e.ac!==null&&(Jt(()=>{e.ac.abort(Ie)}),e.ac=null);try{e.f|=sn;var u=e.fn,v=u();e.f|=yt;var c=e.deps,h=S?.is_fork;if(J!==null){var _;if(h||bt(e,Q),c!==null&&Q>0)for(c.length=Q+J.length,_=0;_<J.length;_++)c[Q+_]=J[_];else e.deps=c=J;if(Tn()&&(e.f&re)!==0)for(_=Q;_<c.length;_++)(c[_].reactions??=[]).push(e)}else!h&&c!==null&&Q<c.length&&(bt(e,Q),c.length=Q);if(xt()&&ne!==null&&!de&&c!==null&&(e.f&(j|ve|H))===0)for(_=0;_<ne.length;_++)Or(ne[_],e);if(s!==null&&s!==e){if(Be++,s.deps!==null)for(let p=0;p<n;p+=1)s.deps[p].rv=Be;if(t!==null)for(const p of t)p.rv=Be;ne!==null&&(r===null?r=ne:r.push(...ne))}return(e.f&$e)!==0&&(e.f^=$e),v}catch(p){return ar(p)}finally{e.f^=sn,J=t,Q=n,ne=r,E=s,se=i,et(l),de=a,qe=o}}function Gs(e,t){let n=t.reactions;if(n!==null){var r=ts.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}if(n===null&&(t.f&j)!==0&&(J===null||!Qe.call(J,t))){var i=t;(i.f&re)!==0&&(i.f^=re,i.f&=~je),wn(i),Os(i),bt(i,0)}}function bt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Gs(e,n[r])}function st(e){var t=e.f;if((t&Se)===0){I(e,U);var n=x,r=Dt;x=e,Dt=!0;try{(t&(Ae|er))!==0?Vs(e):An(e),Tr(e);var s=Nr(e);e.teardown=typeof s=="function"?s:null,e.wv=Rr;var i;nn&&Vr&&(e.f&H)!==0&&e.deps}finally{Dt=r,x=n}}}async function Js(){await Promise.resolve(),ys()}function w(e){var t=e.f,n=(t&j)!==0;if(E!==null&&!de){var r=x!==null&&(x.f&Se)!==0;if(!r&&(se===null||!Qe.call(se,e))){var s=E.deps;if((E.f&sn)!==0)e.rv<Be&&(e.rv=Be,J===null&&s!==null&&s[Q]===e?Q++:J===null?J=[e]:J.push(e));else{(E.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[E]:Qe.call(i,E)||i.push(E)}}}if(Pe&&Ne.has(e))return Ne.get(e);if(n){var l=e;if(Pe){var a=l.v;return((l.f&U)===0&&l.reactions!==null||Dr(l))&&(a=Sn(l)),Ne.set(l,a),a}var o=(l.f&re)===0&&!de&&E!==null&&(Dt||(E.f&re)!==0),f=(l.f&yt)===0;kt(l)&&(o&&(l.f|=re),hr(l)),o&&!f&&(_r(l),Pr(l))}if(ue?.has(e))return ue.get(e);if((e.f&$e)!==0)throw e.v;return e.v}function Pr(e){if(e.f|=re,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&j)!==0&&(t.f&re)===0&&(_r(t),Pr(t))}function Dr(e){if(e.v===q)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ne.has(t)||(t.f&j)!==0&&Dr(t))return!0;return!1}function A(e){var t=de;try{return de=!0,e()}finally{de=t}}function W(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(xe in e)cn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&xe in n&&cn(n)}}}function cn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{cn(e[r],t)}catch{}const n=gn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Qn(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const $t=Symbol("events"),Ks=new Set,qn=new Set;function Xs(e,t,n,r={}){function s(i){if(r.capture||dn.call(t,i),!i.cancelBubble)return Jt(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Te(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function Xe(e,t,n,r,s){var i={capture:r,passive:s},l=Xs(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Kt(()=>{t.removeEventListener(e,l,i)})}let jn=null;function dn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;jn=e;var l=0,a=jn===e&&e[$t];if(a){var o=s.indexOf(a);if(o!==-1&&(t===document||t===window)){e[$t]=t;return}var f=s.indexOf(t);if(f===-1)return;o<=f&&(l=o)}if(i=s[l]||e.target,i!==t){Xn(e,"currentTarget",{configurable:!0,get(){return i||n}});var u=E,v=x;ie(null),pe(null);try{for(var c,h=[];i!==null;){var _=i.assignedSlot||i.parentNode||i.host||null;try{var p=i[$t]?.[r];p!=null&&(!i.disabled||e.target===i)&&p.call(i,e)}catch(d){c?h.push(d):c=d}if(e.cancelBubble||_===t||_===null)break;i=_}if(c){for(let d of h)queueMicrotask(()=>{throw d});throw c}}finally{e[$t]=t,delete e.currentTarget,ie(u),pe(v)}}}const Qs=globalThis?.window?.trustedTypes&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Zs(e){return Qs?.createHTML(e)??e}function ei(e,t=!1){var n=Ls("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?Zs(e):e,n.content}function jt(e,t){var n=x;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function X(e,t){var n=(t&Zr)!==0,r=(t&es)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=ei(i?e:"<!>"+e,!0),n||(s=qt(s)));var l=r||br?document.importNode(s,!0):s.cloneNode(!0);if(n){var a=qt(l),o=l.lastChild;jt(a,o)}else jt(l,l);return l}}function Ft(e=""){{var t=ke(e+"");return jt(t,t),t}}function ti(){var e=document.createDocumentFragment(),t=document.createComment(""),n=ke();return e.append(t,n),jt(t,n),e}function B(e,t){e!==null&&e.before(t)}const ni=["touchstart","touchmove"];function ri(e){return ni.includes(e)}function Z(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function si(e,t){return ii(e,t)}const Ot=new Map;function ii(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:l=!0}){Fs();var a=void 0,o=js(()=>{var f=n??t.appendChild(ke());Ts(f,{pending:()=>{}},c=>{Et({});var h=C;i&&(h.c=i),s&&(r.$$events=s),a=e(c,r)||{},St()});var u=new Set,v=c=>{for(var h=0;h<c.length;h++){var _=c[h];if(!u.has(_)){u.add(_);var p=ri(_);for(const g of[t,document]){var d=Ot.get(g);d===void 0&&(d=new Map,Ot.set(g,d));var m=d.get(_);m===void 0?(g.addEventListener(_,dn,{passive:p}),d.set(_,1)):d.set(_,m+1)}}}};return v(Yt(Ks)),qn.add(v),()=>{for(var c of u)for(const p of[t,document]){var h=Ot.get(p),_=h.get(c);--_==0?(p.removeEventListener(c,dn),h.delete(c),h.size===0&&Ot.delete(p)):h.set(c,_)}qn.delete(v),f!==n&&f.parentNode?.removeChild(f)}});return li.set(a,o),a}let li=new WeakMap;class ai{anchor;#t=new Map;#a=new Map;#e=new Map;#s=new Set;#i=!0;constructor(t,n=!0){this.anchor=t,this.#i=n}#l=()=>{var t=S;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#a.get(n);if(r)Cn(r),this.#s.delete(n);else{var s=this.#e.get(n);s&&(this.#a.set(n,s.effect),this.#e.delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,l]of this.#t){if(this.#t.delete(i),i===t)break;const a=this.#e.get(l);a&&(K(a.effect),this.#e.delete(l))}for(const[i,l]of this.#a){if(i===n||this.#s.has(i))continue;const a=()=>{if(Array.from(this.#t.values()).includes(i)){var f=document.createDocumentFragment();Mr(l,f),f.append(ke()),this.#e.set(i,{effect:l,fragment:f})}else K(l);this.#s.delete(i),this.#a.delete(i)};this.#i||!r?(this.#s.add(i),Ue(l,a,!1)):a()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,s]of this.#e)n.includes(r)||(K(s.effect),this.#e.delete(r))};ensure(t,n){var r=S,s=yr();if(n&&!this.#a.has(t)&&!this.#e.has(t))if(s){var i=document.createDocumentFragment(),l=ke();i.append(l),this.#e.set(t,{effect:fe(()=>n(l)),fragment:i})}else this.#a.set(t,fe(()=>n(this.anchor)));if(this.#t.set(r,t),s){for(const[a,o]of this.#a)a===t?r.unskip_effect(o):r.skip_effect(o);for(const[a,o]of this.#e)a===t?r.unskip_effect(o.effect):r.skip_effect(o.effect);r.oncommit(this.#l),r.ondiscard(this.#n)}else this.#l()}}function oi(e){C===null&&mn(),it&&C.l!==null?Fr(C).m.push(e):un(()=>{const t=A(e);if(typeof t=="function")return t})}function fi(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function ui(){const e=C;return e===null&&mn(),(t,n,r)=>{const s=e.s.$$events?.[t];if(s){const i=zt(s)?s.slice():[s],l=fi(t,n,r);for(const a of i)a.call(e.x,l);return!l.defaultPrevented}return!0}}function ci(e){C===null&&mn(),C.l===null&&ds(),Fr(C).a.push(e)}function Fr(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}function _e(e,t,n=!1){var r=new ai(e),s=n?Ze:0;function i(l,a){r.ensure(l,a)}kn(()=>{var l=!1;t((a,o=0)=>{l=!0,i(o,a)}),l||i(!1,null)},s)}function Ir(e,t){return t}function di(e,t,n){for(var r=[],s=t.length,i,l=t.length,a=0;a<s;a++){let v=t[a];Ue(v,()=>{if(i){if(i.pending.delete(v),i.done.add(v),i.pending.size===0){var c=e.outrogroups;vn(Yt(i.done)),c.delete(i),c.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var o=r.length===0&&n!==null;if(o){var f=n,u=f.parentNode;Is(u),u.append(f),e.items.clear()}vn(t,!o)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function vn(e,t=!0){for(var n=0;n<e.length;n++)K(e[n],t)}var Hn;function Mn(e,t,n,r,s,i=null){var l=e,a=new Map,o=(t&Jn)!==0;if(o){var f=e;l=f.appendChild(ke())}var u=null,v=En(()=>{var m=n();return zt(m)?m:m==null?[]:Yt(m)}),c,h=!0;function _(){d.fallback=u,vi(d,c,l,t,r),u!==null&&(c.length===0?(u.f&we)===0?Cn(u):(u.f^=we,ut(u,null,l)):Ue(u,()=>{u=null}))}var p=kn(()=>{c=w(v);for(var m=c.length,g=new Set,M=S,y=yr(),P=0;P<m;P+=1){var R=c[P],L=r(R,P),$=h?null:a.get(L);$?($.v&&rt($.v,R),$.i&&rt($.i,P),y&&M.unskip_effect($.e)):($=hi(a,h?l:Hn??=ke(),R,L,P,s,t,n),h||($.e.f|=we),a.set(L,$)),g.add(L)}if(m===0&&i&&!u&&(h?u=fe(()=>i(l)):(u=fe(()=>i(Hn??=ke())),u.f|=we)),m>g.size&&as(),!h)if(y){for(const[V,D]of a)g.has(V)||M.skip_effect(D.e);M.oncommit(_),M.ondiscard(()=>{})}else _();w(v)}),d={effect:p,items:a,outrogroups:null,fallback:u};h=!1}function ft(e){for(;e!==null&&(e.f&he)===0;)e=e.next;return e}function vi(e,t,n,r,s){var i=(r&Gr)!==0,l=t.length,a=e.items,o=ft(e.effect.first),f,u=null,v,c=[],h=[],_,p,d,m;if(i)for(m=0;m<l;m+=1)_=t[m],p=s(_,m),d=a.get(p).e,(d.f&we)===0&&(d.nodes?.a?.measure(),(v??=new Set).add(d));for(m=0;m<l;m+=1){if(_=t[m],p=s(_,m),d=a.get(p).e,e.outrogroups!==null)for(const D of e.outrogroups)D.pending.delete(d),D.done.delete(d);if((d.f&we)!==0)if(d.f^=we,d===o)ut(d,null,n);else{var g=u?u.next:o;d===e.effect.last&&(e.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),Me(e,u,d),Me(e,d,g),ut(d,g,n),u=d,c=[],h=[],o=ft(u.next);continue}if((d.f&te)!==0&&(Cn(d),i&&(d.nodes?.a?.unfix(),(v??=new Set).delete(d))),d!==o){if(f!==void 0&&f.has(d)){if(c.length<h.length){var M=h[0],y;u=M.prev;var P=c[0],R=c[c.length-1];for(y=0;y<c.length;y+=1)ut(c[y],M,n);for(y=0;y<h.length;y+=1)f.delete(h[y]);Me(e,P.prev,R.next),Me(e,u,P),Me(e,R,M),o=M,u=R,m-=1,c=[],h=[]}else f.delete(d),ut(d,o,n),Me(e,d.prev,d.next),Me(e,d,u===null?e.effect.first:u.next),Me(e,u,d),u=d;continue}for(c=[],h=[];o!==null&&o!==d;)(f??=new Set).add(o),h.push(o),o=ft(o.next);if(o===null)continue}(d.f&we)===0&&c.push(d),u=d,o=ft(d.next)}if(e.outrogroups!==null){for(const D of e.outrogroups)D.pending.size===0&&(vn(Yt(D.done)),e.outrogroups?.delete(D));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||f!==void 0){var L=[];if(f!==void 0)for(d of f)(d.f&te)===0&&L.push(d);for(;o!==null;)(o.f&te)===0&&o!==e.fallback&&L.push(o),o=ft(o.next);var $=L.length;if($>0){var V=(r&Jn)!==0&&l===0?n:null;if(i){for(m=0;m<$;m+=1)L[m].nodes?.a?.measure();for(m=0;m<$;m+=1)L[m].nodes?.a?.fix()}di(e,L,V)}}i&&Te(()=>{if(v!==void 0)for(d of v)d.nodes?.a?.apply()})}function hi(e,t,n,r,s,i,l,a){var o=(l&zr)!==0?(l&Jr)===0?nt(n,!1,!1):He(n):null,f=(l&Yr)!==0?He(s):null;return{v:o,i:f,e:fe(()=>(i(t,o??n,f??s,a),()=>{e.delete(r)}))}}function ut(e,t,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,i=t&&(t.f&we)===0?t.nodes.start:n;r!==null;){var l=Tt(r);if(i.before(r),r===s)return;r=l}}function Me(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const Vn=[...` 	
\r\fÂ \v\uFEFF`];function _i(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,l=0;(l=r.indexOf(s,l))>=0;){var a=l+i;(l===0||Vn.includes(r[l-1]))&&(a===r.length||Vn.includes(r[a]))?r=(l===0?"":r.substring(0,l))+r.substring(a+1):l=a}}return r===""?null:r}function Ht(e,t,n,r,s,i){var l=e.__className;if(l!==n||l===void 0){var a=_i(n,r,i);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(i&&s!==i)for(var o in i){var f=!!i[o];(s==null||f!==!!s[o])&&e.classList.toggle(o,f)}return i}function Lr(e,t,n=!1){if(e.multiple){if(t==null)return;if(!zt(t))return gs();for(var r of e.options)r.selected=t.includes(vt(r));return}for(r of e.options){var s=vt(r);if(Ds(s,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function pi(e){var t=new MutationObserver(()=>{Lr(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Kt(()=>{t.disconnect()})}function gi(e,t,n=t){var r=new WeakSet,s=!0;xn(e,"change",i=>{var l=i?"[selected]":":checked",a;if(e.multiple)a=[].map.call(e.querySelectorAll(l),vt);else{var o=e.querySelector(l)??e.querySelector("option:not([disabled])");a=o&&vt(o)}n(a),S!==null&&r.add(S)}),xr(()=>{var i=t();if(e===document.activeElement){var l=Ut??S;if(r.has(l))return}if(Lr(e,i,s),s&&i===void 0){var a=e.querySelector(":checked");a!==null&&(i=vt(a),n(i))}e.__value=i,s=!1}),pi(e)}function vt(e){return"__value"in e?e.__value:e.value}const bi=Symbol("is custom element"),mi=Symbol("is html");function wi(e,t,n,r){var s=yi(e);s[t]!==(s[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&Ei(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function yi(e){return e.__attributes??={[bi]:e.nodeName.includes("-"),[mi]:e.namespaceURI===Kn}}var Wn=new Map;function Ei(e){var t=e.getAttribute("is")||e.nodeName,n=Wn.get(t);if(n)return n;Wn.set(t,n=[]);for(var r,s=e,i=Element.prototype;i!==s;){r=Qn(s);for(var l in r)r[l].set&&n.push(l);s=gn(s)}return n}function Si(e,t,n=t){var r=new WeakSet;xn(e,"input",async s=>{var i=s?e.defaultValue:e.value;if(i=en(e)?tn(i):i,n(i),S!==null&&r.add(S),await Js(),i!==(i=t())){var l=e.selectionStart,a=e.selectionEnd,o=e.value.length;if(e.value=i??"",a!==null){var f=e.value.length;l===a&&a===o&&f>o?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=l,e.selectionEnd=Math.min(a,f))}}}),A(t)==null&&e.value&&(n(en(e)?tn(e.value):e.value),S!==null&&r.add(S)),Xt(()=>{var s=t();if(e===document.activeElement){var i=Ut??S;if(r.has(i))return}en(e)&&s===tn(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function xi(e,t,n=t){xn(e,"change",r=>{var s=r?e.defaultChecked:e.checked;n(s)}),A(t)==null&&n(e.checked),Xt(()=>{var r=t();e.checked=!!r})}function en(e){var t=e.type;return t==="number"||t==="range"}function tn(e){return e===""?null:+e}function zn(e,t){return e===t||e?.[xe]===t}function Ti(e={},t,n,r){return xr(()=>{var s,i;return Xt(()=>{s=i,i=[],A(()=>{e!==n(...i)&&(t(e,...i),s&&zn(n(...s),e)&&t(null,...s))})}),()=>{Te(()=>{i&&zn(n(...i),e)&&t(null,...i)})}}),e}function Qt(e=!1){const t=C,n=t.l.u;if(!n)return;let r=()=>W(t.s);if(e){let s=0,i={};const l=yn(()=>{let a=!1;const o=t.s;for(const f in o)o[f]!==i[f]&&(i[f]=o[f],a=!0);return a&&s++,s});r=()=>w(l)}n.b.length&&qs(()=>{Yn(t,r),Bt(n.b)}),un(()=>{const s=A(()=>n.m.map(ss));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&un(()=>{Yn(t,r),Bt(n.a)})}function Yn(e,t){if(e.l.s)for(const n of e.l.s)w(n);t()}function Rn(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Ee;const r=A(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Ge=[];function ki(e,t){return{subscribe:De(e,t).subscribe}}function De(e,t=Ee){let n=null;const r=new Set;function s(a){if(sr(e,a)&&(e=a,n)){const o=!Ge.length;for(const f of r)f[1](),Ge.push(f,e);if(o){for(let f=0;f<Ge.length;f+=2)Ge[f][0](Ge[f+1]);Ge.length=0}}}function i(a){s(a(e))}function l(a,o=Ee){const f=[a,o];return r.add(f),r.size===1&&(n=t(s,i)||Ee),a(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}function Ai(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return ki(n,(l,a)=>{let o=!1;const f=[];let u=0,v=Ee;const c=()=>{if(u)return;v();const _=t(r?f[0]:f,l,a);i?l(_):v=typeof _=="function"?_:Ee},h=s.map((_,p)=>Rn(_,d=>{f[p]=d,u&=~(1<<p),o&&c()},()=>{u|=1<<p}));return o=!0,c(),function(){Bt(h),v(),o=!1}})}function Ci(e){let t;return Rn(e,n=>t=n)(),t}let Nt=!1,hn=Symbol();function ye(e,t,n){const r=n[t]??={store:null,source:nt(void 0),unsubscribe:Ee};if(r.store!==e&&!(hn in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Ee;else{var s=!0;r.unsubscribe=Rn(e,i=>{s?r.source.v=i:z(r.source,i)}),s=!1}return e&&hn in n?Ci(e):w(r.source)}function Gn(e,t){return e.set(t),t}function $n(){const e={};function t(){Kt(()=>{for(var n in e)e[n].unsubscribe();Xn(e,hn,{enumerable:!1,value:!0})})}return[e,t]}function Mi(e){var t=Nt;try{return Nt=!1,[e(),Nt]}finally{Nt=t}}function Ri(e,t,n,r){var s=!it||(n&Kr)!==0,i=(n&Qr)!==0,l=r,a=!0,o=()=>(a&&(a=!1,l=r),l),f;{var u=xe in e||is in e;f=Ke(e,t)?.set??(u&&t in e?g=>e[t]=g:void 0)}var v,c=!1;[v,c]=Mi(()=>e[t]);var h;if(s?h=()=>{var g=e[t];return g===void 0?o():(a=!0,g)}:h=()=>{var g=e[t];return g!==void 0&&(l=void 0),g===void 0?l:g},s&&(n&Xr)===0)return h;if(f){var _=e.$$legacy;return(function(g,M){return arguments.length>0?((!s||!M||_||c)&&f(M?h():g),g):h()})}var p=!1,d=En(()=>(p=!1,h()));w(d);var m=x;return(function(g,M){if(arguments.length>0){const y=M?w(d):s&&i?Je(g):g;return z(d,y),p=!0,l!==void 0&&(l=y),g}return Pe&&p||(m.f&Se)!==0?d.v:w(d)})}const ee=De([]),It=De({connected:!1,engine:"instruct",gpu:!1}),Br=De([]),Vt=De("moonshine-tiny"),_n=De(!1),Re=De(!1),mt=De(!1);Ai(ee,e=>e.length);let $i=0;function Wt(){return`msg-${++$i}-${Date.now()}`}const On="",Oi=`ws://${window.location.host}`;let Fe=null,Lt=!1,ht=null,O=null,Pt=0;function pn(){try{Fe=new WebSocket(`${Oi}/ws/chat`)}catch{It.update(e=>({...e,connected:!1})),setTimeout(pn,3e3);return}Fe.onopen=()=>{Lt=!0,It.update(e=>({...e,connected:!0}))},Fe.onclose=()=>{Lt=!1,It.update(e=>({...e,connected:!1})),setTimeout(pn,3e3)},Fe.onerror=()=>{Lt=!1},Fe.onmessage=e=>{const t=JSON.parse(e.data);Ni(t)}}function Ni(e){e.type!=="status"&&(e.type==="text"&&(O||(O={id:Wt(),role:"assistant",text:"",timestamp:Date.now()},Pt=performance.now(),ee.update(t=>[...t,O])),O.ttft===void 0&&(O.ttft=performance.now()-Pt),O.text+=e.content,ee.update(t=>[...t])),e.type==="thinking"&&(O||(O={id:Wt(),role:"assistant",text:"",timestamp:Date.now()},Pt=performance.now(),ee.update(t=>[...t,O])),O.thinking=e.content,ee.update(t=>[...t])),e.type==="tool_call"&&O&&(O.toolCalls||(O.toolCalls=[]),O.toolCalls.push(e.content),ee.update(t=>[...t])),e.type==="audio"&&O&&(O.audio||(O.audio=[]),O.audio.push(e.content),O.sampleRate=e.sample_rate,e.ttfa_ms&&O.ttft===void 0&&(O.ttft=e.ttfa_ms),qr(e.content,e.sample_rate)),e.type==="done"&&(O&&(O.totalMs=performance.now()-Pt,ee.update(t=>[...t])),O=null,mt.set(!1),ht?.(),ht=null),e.type==="stt"&&e.text&&Ur(e.text))}async function Pi(e,t){const n=performance.now(),r={id:Wt(),role:"assistant",text:"â³",timestamp:Date.now()};ee.update(s=>[...s,r]);try{const i=await(await fetch(`${On}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,tts:t})})).json();r.text=i.text||i.error||"",r.thinking=i.thinking,r.toolCalls=i.tool_calls,r.totalMs=performance.now()-n,i.audio&&(r.audio=i.audio,r.sampleRate=i.sample_rate,i.ttfa_ms&&(r.ttft=i.ttfa_ms),i.audio.forEach(l=>qr(l,i.sample_rate))),ee.update(l=>[...l])}catch(s){r.text=`Error: ${s.message}`,ee.update(i=>[...i])}mt.set(!1)}async function Ur(e,t=!1){if(!e.trim())return;const n={id:Wt(),role:"user",text:e.trim(),timestamp:Date.now()};ee.update(r=>[...r,n]),mt.set(!0),Lt&&Fe?.readyState===WebSocket.OPEN?(Fe.send(JSON.stringify({message:e.trim(),tts:t})),await Promise.race([new Promise(r=>{ht=r}),new Promise(r=>setTimeout(()=>{ht&&(ht=null,mt.set(!1)),r()},6e4))])):await Pi(e.trim(),t)}async function Di(){try{const t=await(await fetch(`${On}/api/stt/backends`)).json();Br.set(t.backends||[]),t.default&&Vt.set(t.default)}catch{}}async function Fi(e,t){const n=new Blob([e],{type:"audio/wav"}),r=new FormData;return r.append("file",n,"audio.wav"),(await(await fetch(`${On}/api/stt/transcribe?stt_backend=${encodeURIComponent(t)}`,{method:"POST",body:r})).json()).text||""}let _t=null;const pt=[];function qr(e,t){if(!e)return;const n=Uint8Array.from(atob(e),r=>r.charCodeAt(0));pt.push({bytes:n,sampleRate:t}),_t||(_t=new AudioContext),pt.length===1&&jr()}function jr(){if(!pt.length)return;const{bytes:e,sampleRate:t}=pt[0],n=_t.createBuffer(1,e.length/2,t),r=n.getChannelData(0),s=new DataView(e.buffer);for(let l=0;l<r.length;l++)r[l]=s.getInt16(l*2,!0)/32768;const i=_t.createBufferSource();i.buffer=n,i.connect(_t.destination),i.onended=()=>{pt.shift(),jr()},i.start(0)}function Ii(){ee.set([])}var Li=X("<option> </option>"),Bi=X('<header class="top-bar svelte-1elxaub"><div class="brand svelte-1elxaub"><span class="logo svelte-1elxaub">â—†</span> <span class="name svelte-1elxaub">JARVIS</span> <span class="tag svelte-1elxaub">CONV-PROXY</span></div> <div class="controls svelte-1elxaub"><div class="control svelte-1elxaub"><label for="stt">STT</label> <select id="stt" class="svelte-1elxaub"></select></div> <label class="toggle svelte-1elxaub"><input type="checkbox" class="svelte-1elxaub"/> <span class="toggle-label svelte-1elxaub">TTS</span></label> <button class="clear-btn svelte-1elxaub" title="Clear chat">âœ•</button> <div><span class="dot svelte-1elxaub"></span> </div></div></header>');function Ui(e,t){Et(t,!1);const n=()=>ye(Vt,"$selectedStt",l),r=()=>ye(Br,"$sttBackends",l),s=()=>ye(_n,"$ttsEnabled",l),i=()=>ye(It,"$status",l),[l,a]=$n();Qt();var o=Bi(),f=F(N(o),2),u=N(f),v=F(N(u),2);Mn(v,5,r,Ir,(g,M)=>{var y=Li(),P=N(y),R={};oe(()=>{Z(P,w(M)),R!==(R=w(M))&&(y.value=(y.__value=w(M))??"")}),B(g,y)});var c=F(u,2),h=N(c),_=F(c,2),p=F(_,2);let d;var m=F(N(p));oe(()=>{d=Ht(p,1,"status-pill svelte-1elxaub",null,d,{online:i().connected}),Z(m,` ${i().connected?"online":"offline"}`)}),gi(v,n,g=>Gn(Vt,g)),xi(h,s,g=>Gn(_n,g)),Xe("click",_,function(...g){Ii?.apply(this,g)}),B(e,o),St(),a()}var qi=X('<pre class="thinking-block svelte-1e5n1dp"> </pre>'),ji=X('<button class="meta-toggle svelte-1e5n1dp"> </button> <!>',1),Hi=X('<pre class="tool-result svelte-1e5n1dp"> </pre>'),Vi=X('<div class="tool-call svelte-1e5n1dp"><span class="tool-name svelte-1e5n1dp"> </span> <code class="tool-args svelte-1e5n1dp"> </code> <!></div>'),Wi=X('<div class="tool-calls svelte-1e5n1dp"></div>'),zi=X('<button class="meta-toggle svelte-1e5n1dp"> </button> <!>',1),Yi=X('<div class="msg-latency svelte-1e5n1dp"><!> </div>'),Gi=X('<div><div class="msg-header svelte-1e5n1dp"><span class="msg-role svelte-1e5n1dp"> </span> <span class="msg-time"> </span></div> <div class="msg-body svelte-1e5n1dp"> </div> <!> <!> <!></div>');function Ji(e,t){Et(t,!1);let n=Ri(t,"message",8),r=nt(!1),s=nt(!1);function i(y){return new Date(y).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}Qt();var l=Gi(),a=N(l),o=N(a),f=N(o),u=F(o,2),v=N(u),c=F(a,2),h=N(c),_=F(c,2);{var p=y=>{var P=ji(),R=fn(P),L=N(R),$=F(R,2);{var V=D=>{var be=qi(),at=N(be);oe(()=>Z(at,(W(n()),A(()=>n().thinking)))),B(D,be)};_e($,D=>{w(r)&&D(V)})}oe(()=>Z(L,`ðŸ’­ ${w(r)?"Hide":"Show"} reasoning`)),Xe("click",R,()=>z(r,!w(r))),B(y,P)};_e(_,y=>{W(n()),A(()=>n().thinking)&&y(p)})}var d=F(_,2);{var m=y=>{var P=zi(),R=fn(P),L=N(R),$=F(R,2);{var V=D=>{var be=Wi();Mn(be,5,()=>(W(n()),A(()=>n().toolCalls)),Ir,(at,Y)=>{var We=Vi(),At=N(We),Zt=N(At),Ct=F(At,2),b=N(Ct),k=F(Ct,2);{var le=T=>{var ae=Hi(),ze=N(ae);oe(()=>Z(ze,(w(Y),A(()=>w(Y).result)))),B(T,ae)};_e(k,T=>{w(Y),A(()=>w(Y).result)&&T(le)})}oe(T=>{Z(Zt,(w(Y),A(()=>w(Y).name))),Z(b,T)},[()=>(w(Y),A(()=>JSON.stringify(w(Y).args)))]),B(at,We)}),B(D,be)};_e($,D=>{w(s)&&D(V)})}oe(()=>Z(L,`ðŸ”§ ${W(n()),A(()=>n().toolCalls.length)??""} tool call${W(n()),A(()=>n().toolCalls.length>1?"s":"")??""} ${w(s)?"â–´":"â–¾"}`)),Xe("click",R,()=>z(s,!w(s))),B(y,P)};_e(d,y=>{W(n()),A(()=>n().toolCalls?.length)&&y(m)})}var g=F(d,2);{var M=y=>{var P=Yi(),R=N(P);{var L=V=>{var D=Ft();oe(be=>Z(D,`TTFT ${be??""}ms Â·`),[()=>(W(n()),A(()=>n().ttft.toFixed(0)))]),B(V,D)};_e(R,V=>{W(n()),A(()=>n().ttft!==void 0)&&V(L)})}var $=F(R);oe(V=>Z($,` Total ${V??""}ms`),[()=>(W(n()),A(()=>n().totalMs.toFixed(0)))]),B(y,P)};_e(g,y=>{W(n()),A(()=>n().totalMs!==void 0)&&y(M)})}oe(y=>{Ht(l,1,`msg ${W(n()),A(()=>n().role)??""}`,"svelte-1e5n1dp"),Z(f,(W(n()),A(()=>n().role==="user"?"You":"Jarvis"))),Z(v,y),Z(h,(W(n()),A(()=>n().text)))},[()=>(W(n()),A(()=>i(n().timestamp)))]),B(e,l),St()}var Ki=X('<span class="spinner svelte-5wsbgm"></span>'),Xi=X('<footer class="input-bar svelte-5wsbgm"><div></div> <button title="Voice input"><!></button> <input type="text" class="chat-input svelte-5wsbgm"/> <button class="send-btn svelte-5wsbgm"><!></button></footer>');function Qi(e,t){Et(t,!1);const n=()=>ye(Re,"$isRecording",i),r=()=>ye(Vt,"$selectedStt",i),s=()=>ye(mt,"$isGenerating",i),[i,l]=$n(),a=ui();let o=nt(""),f=null,u=null,v=null;function c(){const b=w(o).trim();b&&(a("send",b),z(o,""))}function h(b){b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),c())}async function _(){if(n()){m();return}r()==="browser"?p():await d()}function p(){const b=window.SpeechRecognition||window.webkitSpeechRecognition;if(!b){alert("Browser Speech API not available.");return}const k=new b;k.lang="en-US",k.interimResults=!1,k.onstart=()=>Re.set(!0),k.onend=()=>Re.set(!1),k.onerror=()=>Re.set(!1),k.onresult=le=>{const T=le.results[0][0].transcript;T&&a("send",T)},k.start()}async function d(){if(!navigator.mediaDevices?.getUserMedia){alert(`Microphone not available.
Use "browser" STT or access via localhost/HTTPS.`);return}try{u=await navigator.mediaDevices.getUserMedia({audio:!0}),f=new MediaRecorder(u);const b=[];f.ondataavailable=k=>b.push(k.data),f.onstop=async()=>{Re.set(!1);const k=new Blob(b,{type:"audio/webm"}),le=await M(k),T=await Fi(le,r());T&&a("send",T),g()},f.start(),Re.set(!0)}catch(b){alert(`Mic error: ${b.message}`),Re.set(!1)}}function m(){f?.state!=="inactive"&&f?.stop(),Re.set(!1)}function g(){u?.getTracks().forEach(b=>b.stop()),u=null,f=null}async function M(b){const k=await b.arrayBuffer();v||(v=new AudioContext);const le=await v.decodeAudioData(k),T=new OfflineAudioContext(1,le.duration*16e3,16e3),ae=T.createBufferSource();ae.buffer=le,ae.connect(T.destination),ae.start(0);const ze=await T.startRendering();return y(ze.getChannelData(0),16e3)}function y(b,k){const le=new ArrayBuffer(44+b.length*2),T=new DataView(le),ae=(ot,Ye)=>{for(let Mt=0;Mt<Ye.length;Mt++)T.setUint8(ot+Mt,Ye.charCodeAt(Mt))};ae(0,"RIFF"),T.setUint32(4,36+b.length*2,!0),ae(8,"WAVE"),ae(12,"fmt "),T.setUint32(16,16,!0),T.setUint16(20,1,!0),T.setUint16(22,1,!0),T.setUint32(24,k,!0),T.setUint32(28,k*2,!0),T.setUint16(32,2,!0),T.setUint16(34,16,!0),ae(36,"data"),T.setUint32(40,b.length*2,!0);let ze=44;for(let ot=0;ot<b.length;ot++){const Ye=Math.max(-1,Math.min(1,b[ot]));T.setInt16(ze,Ye<0?Ye*32768:Ye*32767,!0),ze+=2}return le}Qt();var P=Xi(),R=N(P);let L;var $=F(R,2);let V;var D=N($);{var be=b=>{var k=Ft("â¹");B(b,k)},at=b=>{var k=Ft("ðŸŽ™ï¸");B(b,k)};_e(D,b=>{n()?b(be):b(at,!1)})}var Y=F($,2),We=F(Y,2),At=N(We);{var Zt=b=>{var k=Ki();B(b,k)},Ct=b=>{var k=Ft("âž¤");B(b,k)};_e(At,b=>{s()?b(Zt):b(Ct,!1)})}oe(b=>{L=Ht(R,1,"rec-dot svelte-5wsbgm",null,L,{active:n()}),V=Ht($,1,"mic-btn svelte-5wsbgm",null,V,{active:n()}),wi(Y,"placeholder",s()?"Thinkingâ€¦":"Ask Jarvisâ€¦"),Y.disabled=s(),We.disabled=b},[()=>s()||!w(o).trim()]),Xe("click",$,_),Si(Y,()=>w(o),b=>z(o,b)),Xe("keydown",Y,h),Xe("click",We,c),B(e,P),St(),l()}var Zi=X('<div class="empty svelte-1n46o8q"><span class="empty-icon svelte-1n46o8q">â—†</span> <p class="svelte-1n46o8q">Start a conversation with Jarvis</p></div>'),el=X('<div class="app svelte-1n46o8q"><!> <main class="chat svelte-1n46o8q"><!></main> <!></div>');function tl(e,t){Et(t,!1);const n=()=>ye(_n,"$ttsEnabled",s),r=()=>ye(ee,"$messages",s),[s,i]=$n();let l=nt();oi(()=>{pn(),Di()}),ci(()=>{w(l)&&Ns(l,w(l).scrollTop=w(l).scrollHeight)});function a(p){Ur(p.detail,n())}Qt();var o=el(),f=N(o);Ui(f,{});var u=F(f,2),v=N(u);{var c=p=>{var d=Zi();B(p,d)},h=p=>{var d=ti(),m=fn(d);Mn(m,1,r,g=>g.id,(g,M)=>{Ji(g,{get message(){return w(M)}})}),B(p,d)};_e(v,p=>{r().length===0?p(c):p(h,!1)})}Ti(u,p=>z(l,p),()=>w(l));var _=F(u,2);Qi(_,{$$events:{send:a}}),B(e,o),St(),i()}si(tl,{target:document.getElementById("app")});
